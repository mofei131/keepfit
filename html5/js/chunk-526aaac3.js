(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-526aaac3"],{"44b9":function(t,e,a){},4795:function(t,e,a){var s=a("23e7"),i=a("da84"),n=a("342f"),c=[].slice,l=/MSIE .\./.test(n),o=function(t){return function(e,a){var s=arguments.length>2,i=s?c.call(arguments,2):void 0;return t(s?function(){("function"==typeof e?e:Function(e)).apply(this,i)}:e,a)}};s({global:!0,bind:!0,forced:l},{setTimeout:o(i.setTimeout),setInterval:o(i.setInterval)})},ec29:function(t,e,a){"use strict";var s=a("44b9"),i=a.n(s);i.a},fafe:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"page-view"},[a("my-head-one",{attrs:{name:""+t.lang.ecgTip1,type:3},on:{ckLeft:t.closePage,ckRight:function(e){return t.openPage("historyEcg")}}}),a("div",{staticClass:"ring-1",class:{"ring-1":t.stateIng,"ring-1_":!t.stateIng}},[a("div",{staticClass:"ring-view"},[a("div",{staticClass:"ring-view-0"},[t._v(t._s(t.lang.ecgTip2))]),a("div",{staticClass:"ring-view-1"},[t._v(t._s(t.value))]),a("div",{staticClass:"ring-view-2"},[t._v(t._s(t.lang.sequence)+"/"+t._s(t.lang.minutes))])])]),a("div",{staticClass:"page-view-1"},[a("p",{staticClass:"page-tip"},[t._v(t._s(t.lang.ecgTip3))]),a("div",{staticStyle:{width:"100%"}},[a("van-progress",{attrs:{color:"#EF7000",percentage:30,"stroke-width":"0.22rem"}})],1)]),a("div",{staticClass:"heart-view",attrs:{id:"echart_1"}}),a("div",{staticClass:"view-fixed",on:{click:t.check}},[a("div",{staticClass:"view-fixed-but-1"},[t._v(t._s(t.stateIng?t.lang.bloodTip3_1:t.lang.bloodTip3))])]),a("van-overlay",{attrs:{show:t.showState}},[a("div",{staticClass:"wrapper",on:{click:function(t){t.stopPropagation()}}},[a("van-icon",{staticClass:"close-icon",attrs:{name:"close"},on:{click:t.close}}),a("div",{staticClass:"widows"},[a("div",{staticClass:"win-1"},[a("label",{staticClass:"label-1"},[t._v("健康指数")]),a("label",{staticClass:"label-2"},[t._v(t._s(t.healthIndex))])]),a("div",{staticClass:"win-1"},[a("label",{staticClass:"label-1"},[t._v("心率指数")]),a("label",{staticClass:"label-2"},[t._v(t._s(t.frequency))])]),a("div",{staticClass:"win-2",on:{click:function(e){return t.openPage("healthReport")}}},[t._v("查看健康报告")])])],1)])],1)},i=[],n=(a("c975"),a("ac1f"),a("1276"),a("4795"),{components:{},data:function(){return{showState:!1,stateIng:!1,frequency:0,healthIndex:0,value:"--"}},methods:{close:function(){this.showState=!1},add:function(t,e){var a=this;this.Http(this.api["EcgSave"],[{createTime:this.util.dateFormat("","YYYY-MM-DD HH:mm:ss"),frequency:t,healthIndex:e,imageUrl:""}]).then((function(t){a.$toast.clear(),"000"==t.data.code&&a.getDayData(a.util.dateFormat("","YYYY-MM-DD"))}))},check:function(){var t=this;if(this.stateIng)this.$toast("".concat(this.lang.bloodTip3_1,"..."));else{this.stateIng=!0,window.clearInterval(window.fk),this.showState=!1;for(var e=this.$echarts.init(document.getElementById("echart_1")),a=[],s=[],i=1;i<20;i++)a.push(i);var n={animation:!1,color:["#DE2525"],grid:{left:0,right:0},xAxis:{show:!1,boundaryGap:!0,data:a},yAxis:{show:!1,boundaryGap:!1},series:{symbol:"none",type:"line",smooth:!0,data:s}};e.setOption(n);var c=0;window.pushApp.ecgSingle.func(),window.fk=setInterval((function(){c<50&&t.stateIng?(s.push(Math.round(1e3*Math.random())),s.length>20&&s.shift(),e.setOption(n),t.stateIng=!0):(t.showState=!0,t.stateIng=!1,window.clearInterval(window.fk)),c++}),200),e.setOption(n)}}},created:function(){},mounted:function(){window.fk="";var t=this;window.pushApp.ecgSingle.callback=function(e){console.log("测量结果 : "+e),-1!=e.indexOf(",")?(t.frequency=e.split(",")[0],t.healthIndex=e.split(",")[1],t.value=t.frequency,t.add(t.frequency,t.healthIndex)):t.$dialog.alert({title:"data",message:"数据格式 frequency,healthIndex 如 '120,80' "})}}}),c=n,l=(a("ec29"),a("2877")),o=Object(l["a"])(c,s,i,!1,null,"984402b2",null);e["default"]=o.exports}}]);