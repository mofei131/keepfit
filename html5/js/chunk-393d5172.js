(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-393d5172"],{1148:function(e,t,a){"use strict";var s=a("a691"),i=a("1d80");e.exports="".repeat||function(e){var t=String(i(this)),a="",l=s(e);if(l<0||l==1/0)throw RangeError("Wrong number of repetitions");for(;l>0;(l>>>=1)&&(t+=t))1&l&&(a+=t);return a}},"15db":function(e,t,a){a("0d03"),a("a9e3"),a("d3b7"),a("25f0");for(var s=function(e){return Number(e)<10?"0"+e:e.toString()},i=[],l=[],n=[20,21,22,23,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19],o=0;o<n.length;o++)i.push(s(n[o]));for(var r=0;r<60;r++)l.push(s(r));for(var c=[],p=0;p<i.length;p++)for(var u=0;u<l.length;u++)c.push(i[p]+":"+l[u]);e.exports={grid:{left:0,top:10,right:0,bottom:10},tooltip:{trigger:"axis",showDelay:2e9,axisPointer:{shadowStyle:{color:"red",opacity:.1}}},color:["#EBCDFE"],xAxis:{data:c,type:"category",splitLine:{show:!1},axisLine:{show:!1},axisTick:{show:!1},axisPointer:{type:"line",lineStyle:{color:"#EBCDFE",opacity:1,width:.5}},axisLabel:{show:!1,color:"red",fontSize:10}},yAxis:{data:[10,20,30],splitLine:{show:!1,lineStyle:{width:.5,type:"dashed",color:"#ccc"}},axisLine:{show:!1},axisTick:{show:!1},axisLabel:{show:!1,color:"#999",fontSize:10,margin:-10}},series:[{name:"睡眠",type:"line",markArea:{show:!0,data:[]}}]}},"228c":function(e,t){e.exports={backgroundColor:"#fff",selectedMode:!1,grid:{left:5,top:5,right:5,bottom:5},series:[{name:"睡眠时长",type:"pie",selectedOffset:4,selectedMode:"single",radius:"90%",center:["50%","50%"],color:["#5C73FF","#AC009A"],data:[{value:0,name:"浅睡",selected:!0},{value:0,name:"深睡"}],label:{normal:{show:!0,position:"inside",formatter:"{c}%",textStyle:{fontSize:14,color:"#B1BCFF",fontWeight:500}},emphasis:{show:!0}}}]}},"408a":function(e,t,a){var s=a("c6b6");e.exports=function(e){if("number"!=typeof e&&"Number"!=s(e))throw TypeError("Incorrect invocation");return+e}},4795:function(e,t,a){var s=a("23e7"),i=a("da84"),l=a("342f"),n=[].slice,o=/MSIE .\./.test(l),r=function(e){return function(t,a){var s=arguments.length>2,i=s?n.call(arguments,2):void 0;return e(s?function(){("function"==typeof t?t:Function(t)).apply(this,i)}:t,a)}};s({global:!0,bind:!0,forced:o},{setTimeout:r(i.setTimeout),setInterval:r(i.setInterval)})},"8a5e":function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"page-view"},[a("my-head",{attrs:{name:e.lang.headDay,type:1},on:{ckLeft:e.closePage,clickConten:e.clickConten,ckRight:e.ckRight}}),a("div",{staticClass:"page-time"},[a("span",[e._v(e._s(e.sleepTime))])]),a("div",{staticClass:"page-step"},[a("span",{staticClass:"page-step-2"},[e._v(e._s(e.sleepType))]),a("span",{staticClass:"page-step-1"},[e._v(e._s(e.sleepValue))]),a("span",{staticClass:"page-step-2"},[e._v(e._s(e.lang.minute))])]),a("div",{staticClass:"img-view img-view-sleep"},[a("div",{staticClass:"img-echart"},[a("div",{staticClass:"img-left-icon"},[a("van-icon",{staticStyle:{height:"60px","line-height":"60px"},attrs:{color:"#B3B3B3",name:"arrow-left"},on:{click:e.lessValue}})],1),e._m(0),a("div",{staticClass:"img-right-icon"},[a("van-icon",{staticStyle:{height:"60px","line-height":"60px"},attrs:{color:"#B3B3B3",name:"arrow"},on:{click:e.addValue}})],1)]),a("div",{staticClass:"slider-view"},[a("div",{staticClass:"laebl-view"},[a("span",{class:{"slider-action":0==e.value},on:{click:function(t){e.value=0}}},[e._v("20:00")]),a("span",{class:{"slider-action":360==e.value},on:{click:function(t){e.value=360}}},[e._v("02:00")]),a("span",{class:{"slider-action":720==e.value},staticStyle:{"padding-left":"10px","box-sizing":"border-box"},on:{click:function(t){e.value=720}}},[e._v("08:00")]),a("span",{class:{"slider-action":1080==e.value},staticStyle:{"padding-left":"5px","box-sizing":"border-box"},on:{click:function(t){e.value=1080}}},[e._v("14:00")]),a("span",{class:{"slider-action":1439==e.value},on:{click:function(t){e.value=1439}}},[e._v("20:00")])]),a("div",{staticClass:"van-slider_diy",staticStyle:{width:"100%",background:"#AA0098",height:"2px"}},[a("van-slider",{staticStyle:{width:"80%",margin:"0 auto"},attrs:{max:"1439",min:"0",step:1,"inactive-color":"#AA0098","active-color":"#AA0098"},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}})],1)])]),a("div",{staticClass:"sleep-time"},[a("div",{staticClass:"sleep-time-1"},[e._v(e._s(e.lang.tip10))]),a("div",{staticClass:"sleep-time-2"},[a("span",{staticClass:"sleep-time-span-1"},[e._v(e._s(e.dataObj?e.util.second_host(e.dataObj.totalSleepTime)[0]:"-"))]),a("span",{staticClass:"sleep-time-span-2"},[e._v(e._s(e.lang.hour))]),a("span",{staticClass:"sleep-time-span-1"},[e._v(e._s(e.dataObj?e.util.second_host(e.dataObj.totalSleepTime)[1]:"-"))]),a("span",{staticClass:"sleep-time-span-2"},[e._v(e._s(e.lang.minute))])])]),a("div",{staticClass:"cake-echart",on:{click:function(e){e.stopPropagation(),e.preventDefault()}}},[e._m(1),a("div",{staticClass:"cake-echart-2"},[a("div",{staticClass:"leng-1"},[a("span",{staticClass:"span-1"},[a("i"),e._v(" "+e._s(e.lang.deepSleep)+" ")]),a("span",{staticClass:"span-2"},[e._v(e._s(e.dataObj?e.util.second_host(e.dataObj.totalDeepTime)[0]+e.lang.hour:"-"+e.lang.hour)+e._s(e.dataObj?e.util.second_host(e.dataObj.totalDeepTime)[1]+e.lang.minute:"-"+e.lang.minute))])]),a("div",{staticClass:"leng-1"},[a("span",{staticClass:"span-1"},[a("i",{staticStyle:{background:"#5C73FF"}}),e._v(" "+e._s(e.lang.easySleep)+" ")]),a("span",{staticClass:"span-2"},[e._v(e._s(e.dataObj?e.util.second_host(e.dataObj.totalShallowTime)[0]+e.lang.hour:"-"+e.lang.hour)+e._s(e.dataObj?e.util.second_host(e.dataObj.totalShallowTime)[1]+e.lang.minute:"-"+e.lang.minute))])]),a("div",{staticClass:"leng-2"},[a("span",{staticClass:"span-1"},[a("i"),e._v(" "+e._s(e.lang.sober)+" ")]),a("span",{staticClass:"span-2"},[e._v(e._s(e.dataObj?e.dataObj.totalSoberNum:"-")+e._s(e.lang.sequence))])])])]),a("div",{staticClass:"slider-code"},[a("p",{staticClass:"slider-code-p"},[e._v(" "+e._s(e.lang.sleepQuality)+": "),a("span",[e._v(e._s(e.lang.sleep4))])]),a("van-slider",{attrs:{"bar-height":"8px",disabled:"",max:"4",min:"1",step:1},model:{value:e.value1,callback:function(t){e.value1=t},expression:"value1"}}),a("div",{staticClass:"slider-code-span-view"},[a("span",[e._v(e._s(e.lang.sleep1))]),a("span",[e._v(e._s(e.lang.sleep2))]),a("span",[e._v(e._s(e.lang.sleep3))]),a("span",[e._v(e._s(e.lang.sleep4))])])],1),a("div",{staticClass:"tip-view"},[a("p",{staticClass:"tip-view-1"},[e._v(e._s(e.lang.sleepTip1))]),a("p",{staticClass:"tip-view-2"},[e._v(e._s(e.lang.sleepTip2))])]),a("div",{staticStyle:{width:"100%",height:"60px"}}),a("v-screen",{ref:"screen",attrs:{index:"1"},on:{select:e.select}}),a("my-date",{directives:[{name:"show",rawName:"v-show",value:e.myDateState,expression:"myDateState"}],ref:"myDate",on:{clickDay:e.clickDay}})],1)},i=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"img-code-echart"},[a("div",{attrs:{id:"code-echart-sleepday"}})])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"cake-echart-1",attrs:{id:"code-echart-2"}},[a("div")])}],l=(a("b680"),a("ac1f"),a("5319"),a("1276"),a("4795"),a("15db")),n=a.n(l),o=a("228c"),r=a.n(o),c=a("3dc5"),p={name:"refurbish",components:{myDate:c["a"]},data:function(){return{dateTime:window.lang.headDay,value:0,value1:3,index:1,sleepValue:0,sleepType:"",sleepTime:"00:00 - 01:00",sleepData:[],myChart:null,myChart1:null,myDateState:!1,myWinState:!1,currentPage:1,pageSize:50,resultList:[],dataObj:null}},watch:{value:function(e){for(var t=n.a.xAxis.data[e].replace(":",""),a=0;a<this.sleepData.length;a++){var s=this.sleepData[a].timeRange.split("-")[0].replace(":",""),i=this.sleepData[a].timeRange.split("-")[1].replace(":","");s<i?t>=s&&t<=i&&(this.sleepValue=this.sleepData[a].durationMinute,this.sleepType=1==this.sleepData[a].type?"深睡":"浅睡",this.sleepTime=this.sleepData[a].timeRange.replace("-"," - ")):(t<=2400&&t>=s||t>=0&&t<=i)&&(this.sleepValue=this.sleepData[a].durationMinute,this.sleepType=1==this.sleepData[a].type?"深睡":"浅睡",this.sleepTime=this.sleepData[a].timeRange.replace("-"," - "))}}},methods:{lessValue:function(){this.$refs.myDate.lessD()},addValue:function(){this.$refs.myDate.addD()},getDayData:function(e){var t=this;console.log(e),e!=this.util.dateFormat("","YYYY-MM-DD")?this.Http(this.api["SleepDay"],{dateString:e}).then((function(e){if("000"==e.data.code){var a,s,i,l,o,c,p,u,d;t.resultList=null!==(a=e.data.result.list)&&void 0!==a?a:[],t.dataObj=null!==(s=e.data.result.obj)&&void 0!==s?s:null,t.value1=(null===(i=t.dataObj)||void 0===i?void 0:i.percent)||0;var h=[];t.sleepData=[];for(var v=function(e){2==t.resultList[e].type?(h.push([{xAxis:t.resultList[e].timeRange.split("-")[0],itemStyle:{color:"rgb(92, 115, 255)"}},{xAxis:t.resultList[e].timeRange.split("-")[1],yAxis:"30"}]),t.sleepData.push(t.resultList[e])):1==t.resultList[e].type&&(h.push([{xAxis:t.resultList[e].timeRange.split("-")[0],itemStyle:{color:"#ac009a"}},{xAxis:t.resultList[e].timeRange.split("-")[1],yAxis:"20"}]),t.sleepData.push(t.resultList[e]))},m=0;m<t.resultList.length;m++)v(m);n.a.series[0].markArea.data=h,console.log(n.a),t.myChart.setOption(n.a);var g=(null!==(l=null===(o=t.dataObj)||void 0===o?void 0:o.totalShallowTime)&&void 0!==l?l:0)/(null!==(c=null===(p=t.dataObj)||void 0===p?void 0:p.totalSleepTime)&&void 0!==c?c:0)||0;r.a.series[0].data=[{value:g?(100*g).toFixed(1):0,name:"浅睡",selected:!0},{value:g&&null!==(u=null===(d=t.dataObj)||void 0===d?void 0:d.totalDeepTime)&&void 0!==u&&u?(100-(100*g).toFixed(1)).toFixed(1):0,name:"深睡"}],t.sleepData.length>0?(t.sleepValue=t.sleepData[0].durationMinute,t.sleepType=1==t.sleepData[0].type?"深睡":"浅睡",t.sleepTime=t.sleepData[0].timeRange.replace("-"," - ")):(t.sleepValue=0,t.sleepType="",t.sleepTime="00:00 - 01:00"),t.myChart1.setOption(r.a),t.myChart1.resize(),t.myChart.resize()}})):window.pushApp.todaySleep.func()},clickConten:function(){this.myDateState=!0},clickDay:function(e){this.dateTime=e.replace("-","年").replace("-","月")+"日",this.getDayData(e)},select:function(e){1==e&&1!=this.index?this.$router.push({path:"/sleepDay?lang="+this.$route.query.lang}):2==e&&2!=this.index?this.$router.push({path:"/sleepWeek?lang="+this.$route.query.lang}):3==e&&3!=this.index&&this.$router.push({path:"/sleepMonth?lang="+this.$route.query.lang})},today:function(){},ckRight:function(){this.$refs.screen.open()}},mounted:function(){var e=this;this.myChart1=this.$echarts.init(document.getElementById("code-echart-2")),this.myChart1.setOption(r.a),this.myChart=this.$echarts.init(document.getElementById("code-echart-sleepday")),this.myChart.setOption(n.a),1!=localStorage.userIndex&&(this.myWinState=!0);var t=this;setTimeout((function(){window.pushApp.todaySleep.callback=function(e){var a,s,i,l,o,c,p,u,d,h=JSON.parse(e);console.log("todaySleep结果 : "+e),console.log(h),t.resultList=null!==(a=h["result"]["list"])&&void 0!==a?a:[],t.dataObj=null!==(s=h["result"].obj)&&void 0!==s?s:null,t.value1=(null===(i=t.dataObj)||void 0===i?void 0:i.percent)||0;var v=[];t.sleepData=[];for(var m=function(e){2==t.resultList[e].type?(v.push([{xAxis:t.resultList[e].timeRange.split("-")[0],itemStyle:{color:"rgb(92, 115, 255)"}},{xAxis:t.resultList[e].timeRange.split("-")[1],yAxis:"30"}]),t.sleepData.push(t.resultList[e])):1==t.resultList[e].type&&(v.push([{xAxis:t.resultList[e].timeRange.split("-")[0],itemStyle:{color:"#ac009a"}},{xAxis:t.resultList[e].timeRange.split("-")[1],yAxis:"20"}]),t.sleepData.push(t.resultList[e]))},g=0;g<t.resultList.length;g++)m(g);n.a.series[0].markArea.data=v;var f=(null!==(l=null===(o=t.dataObj)||void 0===o?void 0:o.totalShallowTime)&&void 0!==l?l:0)/(null!==(c=null===(p=t.dataObj)||void 0===p?void 0:p.totalSleepTime)&&void 0!==c?c:0)||0;r.a.series[0].data=[{value:f?(100*f).toFixed(1):0,name:"浅睡",selected:!0},{value:f&&null!==(u=null===(d=t.dataObj)||void 0===d?void 0:d.totalDeepTime)&&void 0!==u&&u?(100-(100*f).toFixed(1)).toFixed(1):0,name:"深睡"}],t.sleepData.length>0?(t.sleepValue=t.sleepData[0].durationMinute,t.sleepType=1==t.sleepData[0].type?"深睡":"浅睡",t.sleepTime=t.sleepData[0].timeRange.replace("-"," - ")):(t.sleepValue=0,t.sleepType="",t.sleepTime="00:00 - 01:00"),t.myChart.setOption(n.a),t.myChart1.setOption(r.a),t.myChart.resize(),t.myChart1.resize(),console.log(n.a)},console.log("调用 todaySleep 等待结果 .... ")}),300),this.myChart.on("click",(function(t){for(var a=0;a<n.a.xAxis.data.length;a++)n.a.xAxis.data[a]==t.data.xAxis&&(e.value=a);if(e.sleepData.length>0)for(var s=0;s<e.sleepData.length;s++)e.sleepData[s].timeRange==t.data.coord[0][0]+"-"+t.data.coord[1][0]&&(e.sleepValue=e.sleepData[s].durationMinute,e.sleepType=1==e.sleepData[s].type?"深睡":"浅睡",e.sleepTime=e.sleepData[s].timeRange.replace("-"," - "))}))}},u=p,d=(a("bcd6"),a("2877")),h=Object(d["a"])(u,s,i,!1,null,"24c7d52a",null);t["default"]=h.exports},b680:function(e,t,a){"use strict";var s=a("23e7"),i=a("a691"),l=a("408a"),n=a("1148"),o=a("d039"),r=1..toFixed,c=Math.floor,p=function(e,t,a){return 0===t?a:t%2===1?p(e,t-1,a*e):p(e*e,t/2,a)},u=function(e){var t=0,a=e;while(a>=4096)t+=12,a/=4096;while(a>=2)t+=1,a/=2;return t},d=r&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!o((function(){r.call({})}));s({target:"Number",proto:!0,forced:d},{toFixed:function(e){var t,a,s,o,r=l(this),d=i(e),h=[0,0,0,0,0,0],v="",m="0",g=function(e,t){var a=-1,s=t;while(++a<6)s+=e*h[a],h[a]=s%1e7,s=c(s/1e7)},f=function(e){var t=6,a=0;while(--t>=0)a+=h[t],h[t]=c(a/e),a=a%e*1e7},y=function(){var e=6,t="";while(--e>=0)if(""!==t||0===e||0!==h[e]){var a=String(h[e]);t=""===t?a:t+n.call("0",7-a.length)+a}return t};if(d<0||d>20)throw RangeError("Incorrect fraction digits");if(r!=r)return"NaN";if(r<=-1e21||r>=1e21)return String(r);if(r<0&&(v="-",r=-r),r>1e-21)if(t=u(r*p(2,69,1))-69,a=t<0?r*p(2,-t,1):r/p(2,t,1),a*=4503599627370496,t=52-t,t>0){g(0,a),s=d;while(s>=7)g(1e7,0),s-=7;g(p(10,s,1),0),s=t-1;while(s>=23)f(1<<23),s-=23;f(1<<s),g(1,1),f(2),m=y()}else g(0,a),g(1<<-t,0),m=y()+n.call("0",d);return d>0?(o=m.length,m=v+(o<=d?"0."+n.call("0",d-o)+m:m.slice(0,o-d)+"."+m.slice(o-d))):m=v+m,m}})},bcd6:function(e,t,a){"use strict";var s=a("cf2f"),i=a.n(s);i.a},cf2f:function(e,t,a){}}]);